{
  "_comment": "House Bernard â€” AchillesRun OpenClaw Agent Config",
  "_version": "1.1",
  "_agent": "AchillesRun",
  "_spec": "See AGENT_SPEC.md for the law governing this config",
  "_deploy": "Beelink EQ13, on-premise",

  "agents": {
    "main": {
      "name": "AchillesRun",
      "model": "ollama/mistral:7b",
      "systemPrompt": "openclaw/SOUL.md",
      "workspace": "~/.openclaw/agents/achillesrun/workspace",
      "models": {
        "ollama/mistral:7b": {
          "alias": "worker",
          "temperature": 0.7,
          "max_tokens": 4096,
          "_role": "Default. Routine tasks, logs, accounting, Commons/Yard layers"
        },
        "ollama/llama3:8b": {
          "alias": "master",
          "temperature": 0.3,
          "max_tokens": 8192,
          "_role": "Sovereign decisions, architecture, Covenant interpretation, Sanctum layer"
        },
        "ollama/llama3.2:3b": {
          "alias": "watcher",
          "temperature": 0.1,
          "max_tokens": 1024,
          "_role": "Heartbeat only. Continuity checks, rot detection, kill-switch. Never invoked directly"
        },
        "anthropic/claude-sonnet-5-20260203": {
          "alias": "oracle",
          "temperature": 0.2,
          "max_tokens": 16384,
          "_role": "Scale execution, agentic workflows, validation, security analysis. Invoked when local thinking is complete but execution requires scale"
        },
        "anthropic/claude-opus-4-6": {
          "alias": "apex",
          "temperature": 0.1,
          "max_tokens": 16384,
          "_role": "Constitutional interpretation, existential threat assessment, Classified Tribunal proceedings, final arbitration. Sanctum layer ONLY. Never routine"
        }
      },
      "compaction": {
        "mode": "safeguard",
        "triggerTokens": 50000,
        "targetTokens": 8000
      }
    }
  },

  "session": {
    "dmScope": "per-channel-peer",
    "reset": {
      "daily": "04:00"
    },
    "idleMinutes": 240,
    "mainKey": "achilles"
  },

  "heartbeat": {
    "every": "30m",
    "model": "ollama/llama3.2:3b",
    "session": "helios_continuity",
    "target": "local",
    "prompt": "Department of Continuity check: context size, rot indicators, alerts, monthly_ops status"
  },

  "gateway": {
    "bind": "127.0.0.1",
    "port": 18789,
    "cors": false
  },

  "mdns": {
    "enabled": false
  },

  "channels": {
    "discord": {
      "enabled": true,
      "token": "${DISCORD_BOT_TOKEN}",
      "dmPolicy": "allowlist",
      "allowedUsers": ["${GOVERNOR_DISCORD_ID}"],
      "groups": {
        "policy": "deny"
      }
    },

    "imessage": {
      "_comment": "Phase 1: Enable when Mac Mini bridge is available",
      "enabled": false,
      "cliPath": "/usr/local/bin/imsg",
      "dbPath": "/Users/achillesrun/Library/Messages/chat.db",
      "dmPolicy": "allowlist",
      "allowedUsers": ["${GOVERNOR_PHONE}"]
    }
  },

  "security": {
    "sandbox": {
      "enabled": true,
      "mode": "docker",
      "image": "python:3.10.15-alpine",
      "workspace": "rw",
      "network": false,
      "timeout": 300
    },
    "tools": {
      "requireApproval": ["exec", "shell", "write"],
      "autoApprove": ["read", "search", "status"]
    }
  },

  "budget": {
    "daily_limit_usd": 5.00,
    "daily_warning_usd": 3.00,
    "monthly_limit_usd": 50.00,
    "monthly_warning_usd": 37.50
  },

  "skills": {
    "path": "~/.openclaw/agents/achillesrun/skills",
    "managed": [],
    "workspace": [
      "house-bernard-airlock",
      "house-bernard-executioner",
      "house-bernard-treasury"
    ]
  },

  "cron": [
    {
      "id": "monthly-ops",
      "schedule": "0 6 1 * *",
      "command": "cd ~/House-Bernard/treasury && python3 monthly_ops.py run",
      "session": "cron:monthly-ops"
    },
    {
      "id": "git-archive",
      "schedule": "0 */12 * * *",
      "command": "cd ~/House-Bernard && git add -A && git commit -m 'auto: archive snapshot' --allow-empty && git push origin main",
      "session": "cron:git-archive"
    },
    {
      "id": "helios-watcher",
      "schedule": "*/30 * * * *",
      "command": "cd ~/House-Bernard && python3 openclaw/helios_watcher.py",
      "session": "cron:watcher"
    }
  ]
}
